@TARGET_DEFECATION_CHECK
#DIM DYNAMIC INCREASE_OF_DEFECATE
#DIM DYNAMIC INCREASE_OF_FACES
#DIM DYNAMIC STRENGTH

SIF MAXBASE:便意 <= 0
    RETURN

INCREASE_OF_DEFECATE = 100
INCREASE_OF_FACES = 100

; TODO: Calculate increase

BASE:便意 += INCREASE_OF_DEFECATE
BASE:便量 += INCREASE_OF_FACES

STRENGTH = BASE:便意/MAXBASE:便意

; TODO: Calculate source

IF STRENGTH > 0
    BASE:便意 = 0
    BASE:便量 = 0
    NOWEX:排便 = STRENGTH
    EX:排便++
    EXP:排便経験 += STRENGTH
ENDIF