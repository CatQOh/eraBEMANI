@キャラバストサイズ表示, 対象
#DIM DYNAMIC 対象
#DIM DYNAMIC トップ
#DIM DYNAMIC アンダー
#DIM DYNAMIC 成長割合
#DIM DYNAMIC トップMIN
#DIM DYNAMIC アンダーMIN
#DIM DYNAMIC トップMAX
#DIM DYNAMIC アンダーMAX

トップMIN = バストサイズ詳細トップ:(NOF(対象)):(TALENT:対象:バストサイズ)
アンダーMIN = バストサイズ詳細アンダー:(NOF(対象)):(TALENT:対象:バストサイズ)
トップMAX = バストサイズ詳細トップ:(NOF(対象)):(TALENT:対象:バストサイズ+1)
アンダーMAX = バストサイズ詳細アンダー:(NOF(対象)):(TALENT:対象:バストサイズ+1)

IF TALENT:対象:バスト成長 && トップMIN && アンダーMIN && トップMAX && アンダーMAX
	成長割合 = LIMIT(CFLAG:対象:バスト成長, 0, 999)
	トップ = トップMIN
	アンダー = アンダーMIN
	トップ += (トップMAX-トップMIN)*成長割合/1000
	アンダー += (アンダーMAX-アンダーMIN)*成長割合/1000
ELSE
	トップ = トップMIN
	アンダー = アンダーMIN
ENDIF
CALL バストサイズ詳細表示(トップ, アンダー)


@バストサイズ詳細表示, トップ, アンダー
#DIM DYNAMIC トップ
#DIM DYNAMIC アンダー
#DIM DYNAMIC 差分
#DIM DYNAMIC 整数
#DIM DYNAMIC 小数
;バストサイズ詳細小数処理　0...四捨五入 1...切り捨て 2...切り上げ 3...小数表示
IF トップ
	整数 = トップ/10
	小数 = トップ%10
	;小数表示
	IF バストサイズ詳細小数処理 == 3
		PRINTFORM {整数}.{小数}cm
	ELSE
		SELECTCASE バストサイズ詳細小数処理
			;四捨五入
			CASE 0
				SIF 小数 >= 5
					整数++
			;切り上げ
			CASE 2
				SIF 小数 > 0
					整数++
		ENDSELECT
		PRINTFORM {整数}cm
	ENDIF
	IF アンダー
		差分 = トップ-アンダー
		;2.5の倍数に丸めて2.5で割る
		差分 += 12
		差分 /= 25
		SELECTCASE 差分
			CASE IS <= 0
				PRINT (AAAAAカップ)
			CASE 1
				PRINT (AAAAカップ)
			CASE 2
				PRINT (AAAカップ)
			CASE 3
				PRINT (AAカップ)
			CASE 4
				PRINT (Aカップ)
			CASE 5
				PRINT (Bカップ)
			CASE 6
				PRINT (Cカップ)
			CASE 7
				PRINT (Dカップ)
			CASE 8
				PRINT (Eカップ)
			CASE 9
				PRINT (Fカップ)
			CASE 10
				PRINT (Gカップ)
			CASE 11
				PRINT (Hカップ)
			CASE 12
				PRINT (Iカップ)
			CASE 13
				PRINT (Jカップ)
			CASE 14
				PRINT (Kカップ)
			CASE 15
				PRINT (Lカップ)
			CASE 16
				PRINT (Mカップ)
			CASE 17
				PRINT (Nカップ)
			CASE 18
				PRINT (Oカップ)
			CASE 19
				PRINT (Pカップ)
			CASE 20
				PRINT (Qカップ)
			CASE 21
				PRINT (Rカップ)
			CASE 22
				PRINT (Sカップ)
			CASE 23
				PRINT (Tカップ)
			CASE 24
				PRINT (Uカップ)
			CASE 25
				PRINT (Vカップ)
			CASE 26
				PRINT (Wカップ)
			CASE 27
				PRINT (Xカップ)
			CASE 28
				PRINT (Yカップ)
			CASE 29
				PRINT (Zカップ)
			CASE IS >= 30
				PRINT (Zカップ+)
		ENDSELECT
	ENDIF
ELSE
	PRINT 未設定
ENDIF
RETURN 0

;カップ数を入れるとトップとアンダーの差をミリメートル単位で出す
;入力が対応していない場合、-1を返す
@トップアンダー差分, カップサイズ
#FUNCTION
#DIMS DYNAMIC カップサイズ
SELECTCASE カップサイズ
	CASE "AAAAA"
		RETURNF 0
	CASE "AAAA"
		RETURNF 25
	CASE "AAA"
		RETURNF 50
	CASE "AA"
		RETURNF 75
	CASE "A"
		RETURNF 100
	CASE "B"
		RETURNF 125
	CASE "C"
		RETURNF 150
	CASE "D"
		RETURNF 175
	CASE "E"
		RETURNF 200
	CASE "F"
		RETURNF 225
	CASE "G"
		RETURNF 250
	CASE "H"
		RETURNF 275
	CASE "I"
		RETURNF 300
	CASE "J"
		RETURNF 325
	CASE "K"
		RETURNF 350
	CASE "L"
		RETURNF 375
	CASE "M"
		RETURNF 400
	CASE "N"
		RETURNF 425
	CASE "O"
		RETURNF 450
	CASE "P"
		RETURNF 475
	CASE "Q"
		RETURNF 500
	CASE "R"
		RETURNF 525
	CASE "S"
		RETURNF 550
	CASE "T"
		RETURNF 575
	CASE "U"
		RETURNF 600
	CASE "V"
		RETURNF 625
	CASE "W"
		RETURNF 650
	CASE "X"
		RETURNF 675
	CASE "Y"
		RETURNF 700
	CASE "Z"
		RETURNF 725
	CASEELSE
		RETURNF -1
ENDSELECT
