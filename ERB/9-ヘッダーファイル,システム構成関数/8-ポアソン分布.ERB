@RAND_P(LAMBDA)
#FUNCTION
#DIM DYNAMIC LCOUNT
#DIM DYNAMIC LAMBDA
#DIM DYNAMIC POI
#DIM DYNAMIC 閾値BUFF, 100
#DIM DYNAMIC 閾値1 = 3679, 7358, 9197, 9810, 9963, 9994, 9999
#DIM DYNAMIC 閾値2 = 1353, 4060, 6767, 8571, 9473, 9834, 9955, 9989, 9998
#DIM DYNAMIC 閾値3 = 498, 1991, 4232, 6472, 8153, 9161, 9665, 9881, 9962, 9989, 9997, 9999
#DIM DYNAMIC 閾値4 = 183, 916, 2381, 4335, 6288, 7851, 8893, 9489, 9786, 9919, 9972, 9991, 9997, 9999
#DIM DYNAMIC 閾値5 = 67, 404, 1247, 2650, 4405, 6160, 7622, 8666, 9319, 9682, 9863, 9945, 9980, 9993, 9998, 9999
#DIM DYNAMIC 閾値6 = 25, 174, 620, 1512, 2851, 4457, 6063, 7440, 8472, 9161, 9574, 9799, 9912, 9964, 9986, 9995, 9998, 9999
#DIM DYNAMIC 閾値7 = 9, 73, 296, 818, 1730, 3007, 4497, 5987, 7291, 8305, 9015, 9467, 9730, 9872, 9943, 9976, 9990, 9996, 9999
#DIM DYNAMIC 閾値8 = 3, 30, 138, 424, 996, 1912, 3134, 4530, 5925, 7166, 8159, 8881, 9362, 9658, 9827, 9918, 9963, 9984, 9993, 9997, 9999
#DIM DYNAMIC 閾値9 = 1, 12, 62, 212, 550, 1157, 2068, 3239, 4557, 5874, 7060, 8030, 8758, 9261, 9585, 9780, 9889, 9947, 9976, 9989, 9996, 9998, 9999
#DIM DYNAMIC 閾値10 = 5, 28, 103, 293, 671, 1301, 2202, 3328, 4579, 5830, 6968, 7916, 8645, 9165, 9513, 9730, 9857, 9928, 9965, 9984, 9993, 9997, 9999

;平均と分散がLAMBDAのポアソン分布から数値を返す
;ただし、使える値は1～10の整数

LAMBDA = LIMIT(LAMBDA, 1, 10)
POI = RAND:10000
ARRAYCOPY @"閾値{LAMBDA}", "閾値BUFF"
FOR LCOUNT, 0, VARSIZE("閾値BUFF")
	SIF 閾値BUFF:LCOUNT == 0
		RETURNF LCOUNT
	SIF POI < 閾値BUFF:LCOUNT
		RETURNF LCOUNT
NEXT
