;ABLUP:2 = 快Ａの珠必要数
;ABLUPEXP:1 = Ａ経験必要数
@ABLUP5
SIF ABL:Ａ感覚 == 10 && !TALENT:リミットバースト
	RETURN 0
CALL NEED_JUEL5
CALL CHECK_JUEL5
IF RESULT
	CALL NEED_JUEL5
	REPEAT 15
		JUEL:COUNT -= ABLUP:COUNT
	REND
	ABL:Ａ感覚++
ENDIF

@NEED_JUEL5
SELECTCASE ABL:Ａ感覚
	CASE 0
		ABLUP:2 = 1
		ABLUPEXP:1 = 2
	CASE 1
		ABLUP:2 = 20
		ABLUPEXP:1 = 10
	CASE 2
		ABLUP:2 = 400
		ABLUPEXP:1 = 30
	CASE 3
		ABLUP:2 = 5000
		ABLUPEXP:1 = 75
	CASE 4
		ABLUP:2 = 15000
		ABLUPEXP:1 = 150
	CASE 5
		ABLUP:2 = 30000
		ABLUPEXP:1 = 230
	CASE 6
		ABLUP:2 = 40000
		ABLUPEXP:1 = 270
	CASE 7
		ABLUP:2 = 50000
		ABLUPEXP:1 = 360
	CASE 8
		ABLUP:2 = 60000
		ABLUPEXP:1 = 420
	CASE 9
		ABLUP:2 = 70000
		ABLUPEXP:1 = 500
	CASE IS >= 10
		LOCAL = ABL:Ａ感覚*ABL:Ａ感覚
		ABLUP:2 = 800 * LOCAL
		ABLUPEXP:1 = 6 * LOCAL
ENDSELECT

;陥落素質での補正
;淫乱
IF TALENT:淫乱
	TIMES ABLUP:2 , 0.80
	TIMES ABLUPEXP:1 , 0.80
ENDIF
;娼婦
IF TALENT:娼婦
	TIMES ABLUP:2 , 0.50
	TIMES ABLUPEXP:1 , 0.50
ENDIF

@CHECK_JUEL5
;快Ａの珠、Ａ経験で上げる
SIF JUEL:快Ａ >= ABLUP:2 && EXP:Ａ経験 >= ABLUPEXP:1
	RETURN 1

;上記の条件を満たせなかったら上げられない
RETURN 0

@ABLUP_MESSAGE5
SIF JUEL:快Ａ < ABLUP:2
	SETCOLOR 120, 120, 120
PRINTFORM [快Ａの珠×{ABLUP:2}]
RESETCOLOR

SIF EXP:Ａ経験 < ABLUPEXP:1
	SETCOLOR 120, 120, 120
PRINTFORM [Ａ経験{ABLUPEXP:1}以上]
RESETCOLOR

