;ABLUP:GETNUM(PALAM, "恭順") = 恭順の珠必要数
@ABLUP98
CALL NEED_JUEL98
CALL CHECK_JUEL98
IF RESULT
	CALL NEED_JUEL98
	REPEAT 15
		JUEL:COUNT -= ABLUP:COUNT
	REND
	MARK:苦痛刻印--
ENDIF

@NEED_JUEL98
SELECTCASE MARK:苦痛刻印
	CASE 1
		ABLUP:GETNUM(PALAM, "恭順") = 1000
	CASE 2
		ABLUP:GETNUM(PALAM, "恭順") = 3000
	CASE 3
		ABLUP:GETNUM(PALAM, "恭順") = 5000
ENDSELECT

SIF TALENT:臆病
	TIMES ABLUP:GETNUM(PALAM, "恭順") , 1.20

SIF TALENT:痛みに弱い
	TIMES ABLUP:GETNUM(PALAM, "恭順") , 1.20

SIF TALENT:マゾ
	TIMES ABLUP:GETNUM(PALAM, "恭順") , 0.80

SIF TALENT:痛みに強い
	TIMES ABLUP:GETNUM(PALAM, "恭順") , 0.80

IF CFLAG:陥落
	TIMES ABLUP:GETNUM(PALAM, "恭順") , 0.20
ELSEIF CFLAG:状態 >= 2
	TIMES ABLUP:GETNUM(PALAM, "恭順") , 0.80
ENDIF

@CHECK_JUEL98
;苦痛刻印無ければ戻る
SIF !MARK:苦痛刻印
	RETURN 0

;苦痛刻印Lvと同じLvの奉仕精神が必要
SIF ABL:奉仕精神 < MARK:苦痛刻印
	RETURN 0

;恭順の珠で減らす
SIF JUEL:恭順 >= ABLUP:GETNUM(PALAM, "恭順")
	RETURN 1

RETURN 0

@ABLUP_MESSAGE98
;苦痛刻印刻印Lvと同じLvの奉仕精神が必要
SIF ABL:奉仕精神 < MARK:苦痛刻印
	SETCOLOR 120, 120, 120
PRINTFORM [奉仕精神LV{MARK:苦痛刻印}以上]
RESETCOLOR

SIF JUEL:恭順 < ABLUP:GETNUM(PALAM, "恭順")
	SETCOLOR 120, 120, 120
PRINTFORM [恭順の珠×{ABLUP:GETNUM(PALAM, "恭順")}]
RESETCOLOR

