
@住人配置, 部屋番号
#DIM DYNAMIC 部屋番号
#DIM DYNAMIC LCOUNT
#DIM DYNAMIC 住人数
#DIM DYNAMIC 住人, 2

DRAWLINE
住人数 = 0
FOR LCOUNT, 1, CHARANUM
	IF CFLAG:LCOUNT:居住 == 部屋番号
		住人:住人数 = LCOUNT
		住人数++
	ENDIF
	SIF 住人数 == 2
		BREAK
NEXT

IF 住人数 == 2
	PRINTFORML □部屋,{部屋番号}には%CALLNAME:住人%と%CALLNAME:(住人:1)%が住んでいます
	PRINTL 　一部屋に住めるのは二人までです
	PRINTL 
	PRINTL [0] - 戻る
	PRINTL [1] - 空き部屋にする
	DO
		INPUT
		SELECTCASE RESULT
			CASE 0
				RETURN
			CASE 1
				CFLAG:(住人:0):居住 = 0
				CFLAG:(住人:1):居住 = 0
				RESTART
		ENDSELECT
	LOOP 1
ELSE
	IF 住人数 == 1
		PRINTFORML □部屋,{部屋番号}には%CALLNAME:住人%が住んでいます。もう一人住むことができます
	ELSE
		PRINTL □誰を配置しますか？
	ENDIF
	FOR PAGING, 1, CHARANUM
		CALL PAGING, 1
	NEXT
	SIF RESULT == -1
		RETURN
	CFLAG:RESULT:居住 = 部屋番号
	RESTART
ENDIF

