@SPELLCAST
DRAWLINE
PRINTL □魔法を詠唱するキャラを選んでください
SIF TALENT:魔術師
	PRINTFORML [0] %NAME:TARGET% 魔力%BARSTR(BASE:魔力, MAXBASE:魔力, 32)% 魔法技能LV{ABL:魔法技能}
SIF TALENT:MASTER:魔術師
	PRINTFORML [1] %NAME:MASTER% 魔力%BARSTR(BASE:MASTER:魔力, MAXBASE:MASTER:魔力, 32)% 魔法技能LV{ABL:MASTER:魔法技能}
SIF ASSI > 0 && TALENT:ASSI:魔術師
	PRINTFORML [2] %NAME:ASSI% 魔力%BARSTR(BASE:ASSI:魔力, MAXBASE:ASSI:魔力, 32)% 魔法技能LV{ABL:ASSI:魔法技能}
PRINTL [10] 戻る

DO
	INPUT
	SELECTCASE RESULT
		CASE 0
			IF CFLAG:状態 < 2
				PRINTL 助手可能でないと魔法の詠唱を許可できません
				RESTART
			ENDIF
			SIF TALENT:魔術師
				CALL SELECT_SPELL, TARGET
			RESTART
		CASE 1
			SIF TALENT:MASTER:魔術師
				CALL SELECT_SPELL, MASTER
			RESTART
		CASE 2
			SIF ASSI > 0 && TALENT:ASSI:魔術師
				CALL SELECT_SPELL, ASSI
			RESTART
		CASE 10
			RETURN
	ENDSELECT
LOOP 1

RESTART

@SELECT_SPELL, ARG
DRAWLINE
PRINTFORML □魔法一覧 詠唱者:%NAME:ARG% 魔法技能LV{ABL:ARG:魔法技能}
;Freezing atomosphere
PRINTL [1] - フリージングアトモスフィア（気温の低下 魔法技能に応じて効果持続）
;BURNIN' THE FLOOR
PRINTL [2] - バーニンザフロア（気温の上昇 魔法技能に応じて効果持続）
IF ABL:ARG:魔法技能 >= 4
	;Storm Buster
	PRINTL [3] - ストームバスター（天気を晴れにする 魔法技能に応じて効果持続）
	;Sweet Rain
	PRINTL [4] - スウィートレイン（天気を雨にする 魔法技能に応じて効果持続）
	;snow prism
	PRINTL [5] - スノープリズム（天気を雪にする 魔法技能に応じて効果持続）
ENDIF
;天土と緋浮美は作中で使ってるので魔法技能無しで詠唱可能
IF ABL:ARG:魔法技能 >= 5 || CHARANAMEF(ARG) == "梅桐 天土" || CHARANAMEF(ARG) == "梅桐 緋浮美"
	;Beast Mode
	PRINTL [6] - ビーストモード（任意のキャラに対して一時的に素質[動物耳][尻尾]を与え、種族を獣人にする 魔法技能に応じて効果持続）
	PRINTL [7] - ビーストモードtype2（ビーストモードに加え素質[ファーリー]を与える）
ENDIF
IF ABL:ARG:魔法技能 >= 6
	;Re:GENERATION
	PRINTL [8] - リ・ジェネレーション（キャラ全員の回復量上昇 魔法技能に応じて効果持続）
	;gentle stress
	PRINTL [9] - ジェントルストレス（任意のキャラに対し、一時的に使用不可になる代わりにストレスを0まで引き下げる）
ENDIF

;クロノダイブのみクロノスとカイロスは無条件で使える
IF ABL:ARG:魔法技能 >= 7 || CHARANAMEF(ARG) == "クロノス" || CHARANAMEF(ARG) == "カイロス"
	;CHRONO DIVER
	PRINTL [10] - クロノダイブ（任意の年月日にタイムリープする）
ENDIF
IF ABL:ARG:魔法技能 >= 7
	;HYPNΦTIC CRISIS
	PRINTL [11] - ヒプノティッククライシス（女性主人による色仕掛けの成功率が上がる 魔法技能に応じて効果持続）
ENDIF
IF ABL:ARG:魔法技能 >= 8
	;Energy Drive
	PRINTL [13] - エナジードライブ（主人の全ABLを一時的に1上昇させる 魔法技能に応じて効果持続）
ENDIF
IF ABL:ARG:魔法技能 >= 9
	;POSESSION
	PRINTL [19] - ポゼッション（任意のキャラのABLを一時的に詠唱者と同じにする 魔法技能に応じて効果持続）
ENDIF
IF ABL:ARG:魔法技能 >= 10
	;Back to chronos
	PRINTL [20] - バック・トゥ・クロノス（現在の状態を維持したまま期限・日にちを1日分戻す）
ENDIF


;IF ABL:ARG:魔法技能



