;eraBEMANI_SP(スマホ版)ではEmueraEEのサウンド命令が使えないので別関数で処理
;移植の際には当ファイルをコメントアウトで使う
;SPフラグ立ってれば使われないので起動時エラー上等で残す方針で
@BGM再生, 再生する曲名
#DIMS DYNAMIC 再生する曲名

;PLAYINGBGMは再生中の曲が入る「グローバル変数」
;場面転換やロードで曲が途切れない

SIF SP
	RETURN

SIF !サウンド
	RETURN

IF PLAYINGBGM != 再生する曲名
	;何か流れてる場合はフェードアウトしてから流す
	SIF PLAYINGBGM != ""
		CALL FADEOUTBGM
	PLAYBGM 再生する曲名
	PLAYINGBGM = %再生する曲名%
ENDIF

@SE再生, 再生するSE
#DIMS DYNAMIC 再生するSE

SIF SP
	RETURN

SIF !サウンド
	RETURN

PLAYSOUND 再生するSE

;BGMのフェードアウト用関数 0.5秒使ってフェードアウトする
@FADEOUTBGM

SIF SP
	RETURN

SIF !サウンド
	RETURN

SETBGMVOLUME BGM音量/5*4
TWAIT 100, 0

SETBGMVOLUME BGM音量/5*3
TWAIT 100, 0

SETBGMVOLUME BGM音量/5*2
TWAIT 100, 0

SETBGMVOLUME BGM音量/5*1
TWAIT 100, 0

STOPBGM
TWAIT 100, 0

SETBGMVOLUME BGM音量

@音声切り替え
SIF SP
	RETURN

INVERTBIT サウンド, 0
SELECTCASE サウンド
	CASE 0
		SETSOUNDVOLUME 0
		SETBGMVOLUME 0
	CASE 1
		SETSOUNDVOLUME SOUND音量
		SETBGMVOLUME BGM音量
ENDSELECT
SAVEGLOBAL

