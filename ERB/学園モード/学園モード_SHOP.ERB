@SHOP_SCHOOL
#DIM DYNAMIC LRESULT

;日数表示
CALL CHECKDRAWLINE
PRINT □
CALL 日付表示
CALL ゲームモード表示
PRINTL 

PRINTFORML 　天気:%天気()% 気温:%DIV10(FLAG:気温)%℃ %月齢()%(月齢:%DIV100(月齢)%)

DRAWLINE
PRINTL 　[アイテム][を表示][したり]
DRAWLINE
PRINTFORML □時間:%ターン%
SELECTCASE ターン
	CASE "朝"
		PRINTL 　[100] - 学校へ行く 
		PRINTL 　[101] - クラスメイトと一緒に登校する
		PRINTL 　[102] - 学校の保健室へ行く
		PRINTL 　[103] - 他の学校に行く
		PRINTL 　[104] - 何もせずサボる
	CASE "昼"
		PRINTL 　[200] - 校内を散策する
		PRINTL 　[201] - 校外を散策する
		PRINTL 　[202] - 午後の授業をサボる
	CASE "夜"
		PRINTL 　[300] - 遊びに行く
		PRINTL 　[301] - 寝る
ENDSELECT
DRAWLINE
PRINTPLAIN 　SCHOOL MODE

DO
	INPUT
	LRESULT = RESULT
	SELECTCASE LRESULT
		CASE 100 TO 104
			SIF ターン != "朝"
				CONTINUE
			SELECTCASE LRESULT
				CASE 100
					CALL 朝_学校へ行く
				CASE 101
					CALL 朝_クラスメイトと一緒に登校する
				CASE 102
					;CALL 朝_学校の保健室に行く
				CASE 103
					;CALL 朝_他の学校に行く
				CASE 104
					CALL 朝_何もせずサボる
			ENDSELECT
			CALL TURNEND_学園
			BREAK
		CASE 200 TO 202
			SIF ターン != "昼"
				CONTINUE
			CALL TURNEND_学園
			BREAK
		CASE 300 TO 301
			SIF ターン != "夜"
				CONTINUE
			CALL TURNEND_学園
			BREAK
	ENDSELECT
LOOP 1

RESTART

@TURNEND_学園

;ターンを進める
SELECTCASE ターン
	CASE "朝"
		PRINTW 昼になった……
		ターン = 昼
	CASE "昼"
		PRINTW 夜になった……
		ターン = 夜
	CASE "夜"
		PRINTW 一日が終わった……
		ターン = 朝
		DAY++
		CALL NEXTDAY
ENDSELECT

CALL SYSTEM_AUTOSAVE

RETURN

@相性増加, ARG, ARG:1, 上昇値
#DIM DYNAMIC 上昇値

;引数の2人の間の相性を上昇させる関数

RELATION:ARG:(ARG:1) += 上昇値
RELATION:(ARG:1):ARG += 上昇値
