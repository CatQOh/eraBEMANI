;----------------------------------------------------
;ゲームセンター経営モードのグレード名をここで定義します
;----------------------------------------------------
;物件グレード----------------------------------------------------
@物件名, ARG
#FUNCTIONS
SELECTCASE ARG
	CASE 0
		RETURNF "無し"
	CASE 1
		RETURNF "ボロ屋"
	CASE 2
		RETURNF "中小スーパーのテナント"
	CASE 3
		RETURNF "商店街の一角"
	CASE 4
		RETURNF "駅中テナント"
	CASE 5
		RETURNF "街中物件"
	CASE 6
		RETURNF "百貨店テナント"
	CASE 7
		RETURNF "アミューズメント"
ENDSELECT

;物件レベル（GC_STR 80～99）-----------
;GC_STR:80 = 物件
;GC_STR:81 = 広さ
;GC_STR:82 = 分煙施設
;GC_STR:83 = 階層
;GC_STR:84 = 外装
;GC_STR:85 = フードコート
;GC_STR:86 = お手洗い

;物件の値段（SI 0～99）-----------
@物件価格, ARG
#FUNCTION
SELECTCASE ARG
	;ボロ屋
	CASE 1
		RETURNF 30000
	;中小スーパーのテナント
	CASE 2
		RETURNF 5000
	;商店街の一角
	CASE 3
		RETURNF 50000
	;駅中テナント
	CASE 4
		RETURNF 10000
	;街中物件
	CASE 5
		RETURNF 100000
	;百貨店テナント
	CASE 6
		RETURNF 30000
	;アミューズメント
	CASE 7
		RETURNF 300000
ENDSELECT

;名声グレード----------------------------------------------------
@GC名声グレード, ARG
#FUNCTIONS
SELECTCASE ARG
	CASE IS < 100
		RETURNF "まったくの無名ゲーセン"
	CASE IS >= 100
		RETURNF "噂のゲーセン"
	CASE IS >= 500
		RETURNF "ちょっと寄ってみるか程度のゲーセン"
	CASE IS >= 1000
		RETURNF "行ってみようよあそこのゲーセン"
	CASE IS >= 3000
		RETURNF "なかなかいいよこのゲーセン"
	CASE IS >= 5000
		RETURNF "やっぱ一番だよここのゲーセン"
	CASE IS >= 10000
		RETURNF "すっかり馴染んだゲーセン"
	CASE IS >= 30000
		RETURNF "県内随一の有名ゲーセン"
	CASE IS >= 50000
		RETURNF "県外から遠征者が来るゲーセン"
	CASE IS >= 100000
		RETURNF "国外から遠征者が来るゲーセン"
	CASE IS >= 300000
		RETURNF "地球外から遠征者が来るゲーセン"
	CASE IS >= 500000
		RETURNF "他次元から遠征者が来るゲーセン"
	CASE IS >= 1000000
		RETURNF "ゲーセン界の王に君臨するゲーセン"
ENDSELECT

;評判グレード----------------------------------------------------
@GC評判グレード, ARG
#FUNCTIONS
SELECTCASE ARG
	CASE IS < 100
		RETURNF "存在すら知られていないゲーセン"
	CASE IS >= 100
		RETURNF "近寄りがたいゲーセン"
	CASE IS >= 500
		RETURNF "治安悪いよねあそこのゲーセン(´･ω･)(･ω･｀)"
	CASE IS >= 1000
		RETURNF "このゲーセンだったら別に……"
	CASE IS >= 3000
		RETURNF "たまにはあそこのゲーセン行ってみる？( ･ω･)(･ω･ )"
	CASE IS >= 5000
		RETURNF "意外と居心地いいよこのゲーセン"
	CASE IS >= 10000
		RETURNF "今日も開店アタックするぞ！(｀・ω・)(・ω・´)"
	CASE IS >= 30000
		RETURNF "やっぱ最高だねこのゲーセン(*´ω｀)(´ω｀*)"
ENDSELECT

;収入グレード----------------------------------------------------
@GC収入グレード, ARG
#FUNCTIONS
SELECTCASE ARG
	CASE IS < -100000
		RETURNF "このままではｶﾞｼｬﾝしてしまう！"
	CASE IS < -50000
		RETURNF "ゲーセンは家計簿に火を放った"
	CASE IS < -30000
		RETURNF "火の車"
	CASE IS < -10000
		RETURNF "大赤字"
	CASE IS < -5000
		RETURNF "赤字"
	CASE IS < -3000
		RETURNF "割に合わない"
	CASE IS < -1000
		RETURNF "給料を切り詰めるレベル"
	CASE 0
		RETURNF "プラマイゼロ"
	CASE IS < 1000
		RETURNF "小銭稼ぎか？"
	CASE IS < 3000
		RETURNF "副業としては良し"
	CASE IS < 5000
		RETURNF "飯は食えそう"
	CASE IS < 10000
		RETURNF "順風満帆"
	CASE IS < 30000
		RETURNF "この収入なら嫁を幸せにできるぞ"
	CASE IS < 50000
		RETURNF "立派な経営者"
	CASE IS >= 50000
		RETURNF "GOOOOOOOOOOOOOOOOOLD!!!!!"
ENDSELECT

;メンテグレード----------------------------------------------------
@GCメンテグレード, ARG
#FUNCTIONS
SELECTCASE ARG
	CASE 0
		RETURNF "グレード無し"
	CASE 1 TO 29
		SELECTCASE RAND:6
			CASE 0
				RETURNF "もうちょっと綺麗にできないのか？"
			CASE 1
				RETURNF "全然スコア出ない！やっぱここメンテ悪い"
			CASE 2
				RETURNF "投入口にコイン挟まったぞ！"
			CASE 3
				RETURNF "みーつまスッポ抜けた！"
			CASE 4
				RETURNF "ボタン硬いなぁ……"
			CASE 5
				RETURNF "パネル硬……いや仕様か"
		ENDSELECT
	CASE 30 TO 49
		SELECTCASE RAND:2
			CASE 0
				RETURNF "うん……まぁいいんじゃない？"
			CASE 1
				RETURNF "出来ないことはない"
		ENDSELECT
	CASE 50 TO 69
		SELECTCASE RAND:2
			CASE 0
				RETURNF "結構いいと思うよ"
			CASE 1
				RETURNF "遅延も無いし判定良好"
		ENDSELECT
	CASE 70 TO 79
		RETURNF "ここでやったらスコア伸びました！"
	CASE 80 TO 89
		RETURNF "ここでやったら全一出ました！"
	CASE 90 TO 99
		RETURNF "ここでやったら理論値出ました！"
	CASE 100
		RETURNF "ここのゲーセンメンテ良すぎて理論値超えた！！"
ENDSELECT

;筐体名称----------------------------------------------------
@筐体名, ARG
#FUNCTIONS
SELECTCASE ARG
	CASE 100
		RETURNF "beatmaniaIIDX"
	CASE 101
		RETURNF "pop`n music"
	CASE 102
		RETURNF "Dance Dance Revolution"
	CASE 103
		RETURNF "GITADORA"
	CASE 104
		RETURNF "jubeat"
	CASE 105
		RETURNF "REFLEC BEAT"
	CASE 106
		RETURNF "SOUND VOLTEX"
	CASE 107
		RETURNF "Dance Evolution"
;AC_STR:200

;AC_STR:600 = メダルゲーム

;AC_STR:700 = クレーンゲーム

	CASE 800
		RETURNF "両替機"
	CASE 801
		RETURNF "メダル両替機"
	CASE 805
		RETURNF "PASELI券売機"
	CASE 806
		RETURNF "PASELIチャージ機"
	CASE 810
		RETURNF "自販機（飲み物）"
	CASE 811
		RETURNF "自販機（軽食）"
	CASE 812
		RETURNF "自販機（アイス）"
	CASE 820
		RETURNF "マッサージチェア"
	CASE 821
		RETURNF "待ち椅子"
ENDSELECT

;筐体金額（ACSI）----------------------------------------------------
@筐体価格
#FUNCTION

ACSI:100 = 100000
ACSI:101 = 80000
ACSI:102 = 130000
ACSI:103 = 60000
ACSI:104 = 15000
ACSI:105 = 15000
ACSI:106 = 20000
ACSI:107 = 150000

ACSI:600 = 70000

ACSI:700 = 50000

ACSI:800 = 30000
ACSI:801 = 30000
ACSI:805 = 20000
ACSI:806 = 40000
ACSI:810 = 60000
ACSI:811 = 80000
ACSI:812 = 70000
ACSI:820 = 100000
ACSI:821 = 1000

@名声計算（筐体）, ARG
#FUNCTION
#DIM DYNAMIC 合計値
FOR COUNT, 1000, 2000
	LOCAL = 0
	SIF !設置筐体:ARG:COUNT
		CONTINUE
	SELECTCASE ITEMNAME:COUNT
		CASE "beatmaniaIIDX"
			LOCAL = 2
		CASE "pop'n music"
			LOCAL = 2
		CASE "Dance Dance Revolution"
			LOCAL = 3
		CASE "GITADORA"
			LOCAL = 3
		CASE "jubeat"
			LOCAL = 1
		CASE "REFLEC BEAT"
			LOCAL = 1
		CASE "SOUND VOLTEX"
			LOCAL = 1
		CASE "Dance Evolution"
			LOCAL = 3
	ENDSELECT
	合計値 += 設置筐体:ARG:COUNT*LOCAL
NEXT

RETURNF 合計値

@階層収入期待値, 階層
#FUNCTION
#DIM 階層
#DIM LCOUNT, 2
#DIM 計算用名声
#DIM 計算用評判

計算用名声 = GC名声
計算用評判 = GC評判

VARSET LOCAL, 0

;天候
SELECTCASE FLAG:天気
	;晴れと曇り 特に問題ない
	CASE 1, 2
	;雨と雪 評判と名声が2割減で計算される
	CASE 3, 6
		TIMES 計算用名声 , 0.80
		TIMES 計算用評判 , 0.80
	;大雨と雷雨 評判と名声が4割減だが、「台風だからゲーセン空いてるやろｗ」の法則でたまに2割増になる
	CASE 4, 5
		SELECTCASE RAND:10
			CASE 0
				TIMES 計算用名声 , 1.20
				TIMES 計算用評判 , 1.20
			CASEELSE
				TIMES 計算用名声 , 0.60
				TIMES 計算用評判 , 0.60
		ENDSELECT
	;大雪 交通がマヒするので半減する
	CASE 7
		TIMES 計算用名声 , 0.50
		TIMES 計算用評判 , 0.50
ENDSELECT

FOR LCOUNT, 1100, 2000
	SIF ITEMNAME:LCOUNT == ""
		CONTINUE
	SIF !設置筐体:階層:LCOUNT
		CONTINUE
	SELECTCASE ITEMNAME:LCOUNT
		CASE "beatmaniaIIDX"
			;IIDXは最高で名声+20000 メンテでだいぶ左右される
			;メンテ次第で名声×5の収入になるので最終的には一番の収入源になる……はず
			LOCAL = (計算用名声/20+200)*GCメンテ
			;待ち椅子ボーナス
			LOCAL += 設置筐体:階層:1820*70
			LOCAL += 設置筐体:階層:1821*10
		CASE "pop'n music"
			;ポップンは最高で評判+10000 こっちはIIDXほどメンテの影響は大きくない
			LOCAL = 計算用評判+2000+(GCメンテ*80)
			;待ち椅子ボーナス
			LOCAL += 設置筐体:階層:1820*70
			LOCAL += 設置筐体:階層:1821*10
		CASE "Dance Dance Revolution"
			;DDRは立地の差が大きい メンテ次第で最低2000、最高28000
			LOCAL = GC物件*2000+(GC物件*20*GCメンテ)
			LOCAL += GC物件*(計算用名声/10)+GC物件*(計算用評判/10)
			;待ち椅子ボーナスが大きい
			LOCAL += 設置筐体:階層:1820*200
			LOCAL += 設置筐体:階層:1821*50
		CASE "GITADORA"
			;ギタドラは評判、名声、メンテの総合型 最高で名声+評判がそのまま収入になる ギタとドラで2倍
			;逆に言えば評判も名声もメンテもダメだとインカムが悲惨なことになる
			LOCAL = ((計算用評判/100+1)*GCメンテ+(計算用名声/100+1)*GCメンテ)*2
			;待ち椅子ボーナス
			LOCAL += 設置筐体:階層:1820*70
			LOCAL += 設置筐体:階層:1821*10
		CASE "jubeat"
			;指は名声に左右され最高で3000 名声50000で最高額に達し、メンテスキルの必要性は皆無 一番安定感ある
			LOCAL = 500
			IF 計算用名声 >= 50000
				LOCAL += 2500
			ELSE
				LOCAL += 計算用名声/100*5
			ENDIF
			;待ち椅子ボーナス
			LOCAL += 設置筐体:階層:1820*70
			LOCAL += 設置筐体:階層:1821*10
		CASE "REFLEC BEAT"
			;リフレクは指より少しシビアだが最高額が5000 最高額には名声100000必要
			IF 計算用名声 >= 100000
				LOCAL = 2500+(GCメンテ*25)
			ELSE
				LOCAL = 計算用名声/1000*25+(GCメンテ*25)
			ENDIF
			;待ち椅子ボーナス
			LOCAL += 設置筐体:階層:1820*70
			LOCAL += 設置筐体:階層:1821*10
		CASE "SOUND VOLTEX"
			;ボルテは評判寄り メンテも必要だが名声はあまり関係無い 最高7000
			LOCAL += GCメンテ*20
			IF 計算用評判+計算用名声/100 >= 50000
				LOCAL = 5000
			ELSE
				LOCAL = (計算用評判+計算用名声/100)/10
			ENDIF
			;待ち椅子ボーナス
			LOCAL += 設置筐体:階層:1820*70
			LOCAL += 設置筐体:階層:1821*10
		CASE "Dance Evolution"
			;ダンエボは名声と立地次第で評判とメンテの必要性は皆無 最大で1400+名声×1.4
			LOCAL = (1000+名声/5)*GC物件
			;DDRほどではないが待ち椅子ボーナスが大きい
			LOCAL += 設置筐体:階層:1820*100
			LOCAL += 設置筐体:階層:1821*30
		CASE "自販機（飲み物）"
			FOR LCOUNT:1, 1100, 1200
				SIF ITEMNAME:LCOUNT == ""
					CONTINUE
				SIF !設置筐体:階層:(LCOUNT:1)
					CONTINUE
				;筐体ごとにシナジーがある
				SELECTCASE ITEMNAME:(LCOUNT:1)
					CASE "beatmaniaIIDX"
						LOCAL = 300
					CASE "pop'n music"
						LOCAL = 300
					CASE "Dance Dance Revolution"
						LOCAL = 1000
					CASE "GITADORA"
						LOCAL = 500
					CASE "jubeat"
						LOCAL = 150
					CASE "REFLEC BEAT"
						LOCAL = 150
					CASE "SOUND VOLTEX"
						LOCAL = 150
					CASE "Dance Evolution"
						LOCAL = 700
				ENDSELECT
			NEXT
		CASE "自販機（軽食）"
			FOR LCOUNT:1, 1100, 1200
				SIF ITEMNAME:LCOUNT == ""
					CONTINUE
				SIF !設置筐体:階層:(LCOUNT:1)
					CONTINUE
				;筐体ごとにシナジーがある
				SELECTCASE ITEMNAME:(LCOUNT:1)
					CASE "beatmaniaIIDX"
						LOCAL = 500
					CASE "pop'n music"
						LOCAL = 150
					CASE "Dance Dance Revolution"
						LOCAL = 300
					CASE "GITADORA"
						LOCAL = 500
					CASE "jubeat"
						LOCAL = 300
					CASE "REFLEC BEAT"
						LOCAL = 300
					CASE "SOUND VOLTEX"
						LOCAL = 150
					CASE "Dance Evolution"
						LOCAL = 150
				ENDSELECT
			NEXT
		CASE "自販機（アイス）"
			FOR LCOUNT:1, 1100, 1200
				SIF ITEMNAME:LCOUNT == ""
					CONTINUE
				SIF !設置筐体:階層:(LCOUNT:1)
					CONTINUE
				;筐体ごとにシナジーがある
				SELECTCASE ITEMNAME:(LCOUNT:1)
					CASE "beatmaniaIIDX"
						LOCAL = 150
					CASE "pop'n music"
						LOCAL = 500
					CASE "Dance Dance Revolution"
						LOCAL = 500
					CASE "GITADORA"
						LOCAL = 150
					CASE "jubeat"
						LOCAL = 300
					CASE "REFLEC BEAT"
						LOCAL = 150
					CASE "SOUND VOLTEX"
						LOCAL = 500
					CASE "Dance Evolution"
						LOCAL = 500
				ENDSELECT
			NEXT
	ENDSELECT
	LOCAL:1 += LOCAL*設置筐体:階層:LCOUNT
NEXT

RETURNF LOCAL:1

@筐体支出補正, 階層
#FUNCTION
#DIM 階層
#DIM 筐体

VARSET LOCAL, 0

FOR 筐体, 1100, 2000
	SIF !設置筐体:階層:筐体
		CONTINUE
	SELECTCASE ITEMNAME:筐体
		CASE "beatmaniaIIDX"
			LOCAL = 1000
		CASE "pop'n music"
			LOCAL = 900
		CASE "Dance Dance Revolution"
			LOCAL = 1500
		CASE "GITADORA"
			LOCAL = 1000
		CASE "jubeat"
			LOCAL = 500
		CASE "REFLEC BEAT"
			LOCAL = 500
		CASE "SOUND VOLTEX"
			LOCAL = 600
		CASE "Dance Evolution"
			LOCAL = 1500
		CASE "両替機"
			LOCAL = 300
		CASE "メダル両替機"
			LOCAL = 300
		CASE "PASELI券売機"
			LOCAL = 500
		CASE "PASELIチャージ機"
			LOCAL = 500
		CASE "自販機（飲み物）"
			LOCAL = 700
		CASE "自販機（軽食）"
			LOCAL = 900
		CASE "自販機（アイス）"
			LOCAL = 800
		CASE "マッサージチェア"
			LOCAL = 200
	ENDSELECT
	LOCAL:1 += LOCAL*設置筐体:階層:筐体
NEXT

RETURNF LOCAL:1

@筐体コスト, ARG
#FUNCTION
SELECTCASE ITEMNAME:ARG
	CASE "beatmaniaIIDX"
		LOCAL = 2
	CASE "pop'n music"
		LOCAL = 2
	CASE "Dance Dance Revolution"
		LOCAL = 3
	CASE "GITADORA"
		LOCAL = 3
	CASE "jubeat"
		LOCAL = 1
	CASE "REFLEC BEAT"
		LOCAL = 1
	CASE "SOUND VOLTEX"
		LOCAL = 1
	CASE "Dance Evolution"
		LOCAL = 3
	CASE "両替機"
		LOCAL = 1
	CASE "メダル両替機"
		LOCAL = 1
	CASE "PASELI券売機"
		LOCAL = 1
	CASE "PASELIチャージ機"
		LOCAL = 1
	CASE "自販機（飲み物）"
		LOCAL = 1
	CASE "自販機（軽食）"
		LOCAL = 1
	CASE "自販機（アイス）"
		LOCAL = 1
	CASE "マッサージチェア"
		LOCAL = 2
	CASE "待ち椅子"
		LOCAL = 1
ENDSELECT

RETURNF LOCAL

@GC収入人事補正
#FUNCTION
#DIM LCOUNT
#DIM 素質

;LOCALに基準値 LOCAL:1に倍率 LOCAL:2に全体の合計

VARSET LOCAL, 0

FOR LCOUNT, 1, CHARANUM
	SIF CFLAG:LCOUNT:配属 != 1
		CONTINUE
	LOCAL += ABL:LCOUNT:従順*30
	LOCAL += ABL:LCOUNT:技巧*10
	LOCAL += ABL:LCOUNT:奉仕精神*20
	LOCAL += ABL:LCOUNT:工作技能*30
	LOCAL += ABL:LCOUNT:家事技能*30
	SIF TALENT:LCOUNT:音ゲーマー
		LOCAL += 100
	
	LOCAL:1 = 100
	FOR 素質, 0, VARSIZE("TALENT")
		SIF !TALENT:LCOUNT:素質
			CONTINUE
		SELECTCASE TALENTNAME:素質
			CASE "生意気", "反抗的", "衝動的", "同族嫌悪"
				LOCAL:1 -= 20
			CASE "臆病", "プライド高い", "無関心", "男嫌い", "女嫌い", "幼稚", "ツンデレ", "汚れ無視"
				LOCAL:1 -= 10
			CASE "気丈", "ハイテンション", "好奇心", "潔癖症", "ファーリー", "尻尾", "動物耳", "羽"
				LOCAL:1 += 10
			CASE "素直", "自制心", "献身的", "魅力", "魅惑"
				LOCAL:1 += 20
			CASE "人気", "謎の魅力"
				LOCAL:1 += 30
			CASE "バストサイズ"
				SELECTCASE TALENT:LCOUNT:バストサイズ
					CASE 4
						LOCAL:1 += 10
					CASE 5
						LOCAL:1 += 20
				ENDSELECT
		ENDSELECT
	NEXT
	SIF LOCAL:1 < 10
		LOCAL:1 = 10
	LOCAL:2 += LOCAL*LOCAL:2/100
NEXT

RETURNF LOCAL:2

@フードコートレベル
#FUNCTION
#DIM LCOUNT

VARSET LOCAL, 0

FOR LCOUNT, 1, CHARANUM
	SIF CFLAG:LCOUNT:配属 != 1
		CONTINUE
	;リミットバースト分は計上しない
	IF ABL:LCOUNT:料理技能 >= 10
		LOCAL += 10
	ELSE
		LOCAL += ABL:LCOUNT:料理技能
	ENDIF
	SIF TALENT:LCOUNT:料理人
		LOCAL:1++
NEXT

;配属してるキャラの料理技能合計でレベルが決まる 最大20
;配属できるのは10人まで
SELECTCASE LOCAL
	CASE 100
		LOCAL:2 = 20
	CASE 97 TO 99
		LOCAL:2 = 19
	CASE 92 TO 96
		LOCAL:2 = 18
	CASE 85 TO 91
		LOCAL:2 = 17
	CASE 35 TO 84
		LOCAL:2 = LOCAL/5
	CASE 25 TO 34
		LOCAL:2 = 6
	CASE 16 TO 24
		LOCAL:2 = 5
	CASE 9 TO 15
		LOCAL:2 = 4
	CASE 4 TO 8
		LOCAL:2 = 3
	CASE 1 TO 3
		LOCAL:2 = 2
	CASE 0
		LOCAL:2 = 1
ENDSELECT

;料理人の数だけレベルが上がる
LOCAL:2 += LOCAL:1

RETURNF LOCAL:2

@名声筐体補正, 階層
#FUNCTION
#DIM 階層
#DIM 筐体

VARSET LOCAL, 0

;大体筐体コストと同じ
FOR 筐体, 1100, 2000
	SIF !設置筐体:階層:筐体
		CONTINUE
	SELECTCASE ITEMNAME:筐体
		CASE "beatmaniaIIDX"
			LOCAL = 2
		CASE "pop'n music"
			LOCAL = 2
		CASE "Dance Dance Revolution"
			LOCAL = 3
		CASE "GITADORA"
			LOCAL = 3
		CASE "jubeat"
			LOCAL = 1
		CASE "REFLEC BEAT"
			LOCAL = 1
		CASE "SOUND VOLTEX"
			LOCAL = 1
		CASE "Dance Evolution"
			LOCAL = 3
		CASE "両替機"
			LOCAL = 1
		CASE "メダル両替機"
			LOCAL = 1
		CASE "PASELI券売機"
			LOCAL = 2
		CASE "PASELIチャージ機"
			LOCAL = 2
		CASE "自販機（飲み物）"
			LOCAL = 1
		CASE "自販機（軽食）"
			LOCAL = 2
		CASE "自販機（アイス）"
			LOCAL = 1
		CASE "マッサージチェア"
			LOCAL = 3
		CASE "待ち椅子"
			LOCAL = 1
	ENDSELECT
	LOCAL:1 += LOCAL*設置筐体:階層:筐体
NEXT

RETURNF LOCAL:1

@名声人事補正
#FUNCTION
#DIM LCOUNT
#DIM 素質

;LOCALに基準値 LOCAL:1に倍率 LOCAL:2に全体の合計

VARSET LOCAL, 0

FOR LCOUNT, 1, CHARANUM
	SIF CFLAG:LCOUNT:配属 != 1
		CONTINUE
	LOCAL += ABL:LCOUNT:従順/2
	LOCAL += ABL:LCOUNT:工作技能/2
	LOCAL += ABL:LCOUNT:家事技能/2
	FOR 素質, 0, VARSIZE("TALENT")
		SIF !TALENT:LCOUNT:素質
			CONTINUE
		SELECTCASE TALENTNAME:素質
			CASE "臆病", "大人しい", "無関心", "感情乏しい", "保守的", "恥じらい", "抵抗", "汚れ無視", "悲観的"
				LOCAL -= 1
			CASE "ハイテンション", "好奇心", "目立ちたがり", "解放", "小柄体型", "ファーリー", "尻尾", "動物耳", "羽"
				LOCAL += 1
			CASE "人気", "謎の魅力", "小人体型", "魅力", "魅惑"
				LOCAL += 2
			CASE "音ゲーマー"
				LOCAL += 3
			CASE "バストサイズ"
				SELECTCASE TALENT:LCOUNT:バストサイズ
					CASE 4
						LOCAL += 1
					CASE 5
						LOCAL += 2
				ENDSELECT
		ENDSELECT
	NEXT
	SIF LOCAL < 0
		LOCAL = 0
	LOCAL:1 += LOCAL
NEXT

RETURNF LOCAL:1

@評判人事補正
#FUNCTION
#DIM LCOUNT
#DIM 素質

VARSET LOCAL, 0

;他のパラメータと違って下がるときもある
FOR LCOUNT, 1, CHARANUM
	SIF CFLAG:LCOUNT:配属 != 1
		CONTINUE
	LOCAL += ABL:LCOUNT:従順/5
	LOCAL += ABL:LCOUNT:奉仕精神/5
	FOR 素質, 0, VARSIZE("TALENT")
		SIF !TALENT:LCOUNT:素質
			CONTINUE
		SELECTCASE TALENTNAME:素質
			CASE "生意気", "反抗的", "衝動的", "同族嫌悪", "崩壊"
				LOCAL -= 3
			CASE "プライド高い", "無関心", "男嫌い", "女嫌い", "汚れ無視", "倒錯的"
				LOCAL -= 2
			CASE "臆病", "保守的", "恥じらい", "大人しい", "寂しがり屋"
				LOCAL -= 1
			CASE "素直", "自制心", "献身的", "気丈", "潔癖症"
				LOCAL += 1
			CASE "音ゲーマー"
				LOCAL += 3
		ENDSELECT
	NEXT
NEXT

RETURNF LOCAL

@評判筐体補正, 階層
#FUNCTION
#DIM 階層
#DIM 筐体

VARSET LOCAL, 0

FOR 筐体, 1100, 2000
	SIF !設置筐体:階層:筐体
		CONTINUE
	SELECTCASE 筐体
		;置いてあるアーケードゲーム筐体の種類
		CASE 1100 TO 1199
			LOCAL++
		;その他
		CASEELSE
			LOCAL:1++
	ENDSELECT
NEXT
FOR 筐体, 1100, 2000
	SIF !設置筐体:階層:筐体
		CONTINUE
	SELECTCASE 筐体
		CASE 1100 TO 1199
			;各種筐体数＞置いてある種類だと偏ってるため評判が下がる
			IF 設置筐体:階層:筐体 > LOCAL
				LOCAL:2 += (設置筐体数:階層:筐体-LOCAL)*(設置筐体数:階層:筐体-LOCAL)
			;偏ってなければ筐体の数だけ上がる
			ELSE
				LOCAL:2 += 設置筐体数:階層:筐体
			ENDIF
		;待ち椅子だけ例外
		CASE IS != 1821
			;各種筐体数＞置いてある種類だと偏ってるため評判が下がる
			IF 設置筐体:階層:筐体 > LOCAL:1
				LOCAL:2 += (設置筐体数:階層:筐体-LOCAL:1)*(設置筐体数:階層:筐体-LOCAL:1)
			;偏ってなければ筐体の数だけ上がる
			ELSE
				LOCAL:2 += 設置筐体数:階層:筐体
			ENDIF
	ENDSELECT
NEXT
LOCAL:2 += LOCAL+LOCAL:1

RETURNF LOCAL:2

