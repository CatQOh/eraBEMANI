@MUSIC_LIST
;曲の順番は0→9、A→Z、あ→ん
#DIM DYNAMIC ページ数
#DIM DYNAMIC LCOUNT
#DIM DYNAMIC 各難易度

CALL REF_MUSIC


;LOCALには総曲数が入る
LOCAL = 0
FOR LCOUNT, 1, 1000
	SIF 楽曲情報:LCOUNT:0 == ""
		BREAK
	LOCAL++
NEXT

$LIST

DRAWLINE
PRINTL 楽曲を選んでください
PRINTL 
PRINTL No.  Vo In Da 　　　曲名

FOR LCOUNT, ページ数*10+1, ページ数*10+11
	SIF LCOUNT > LOCAL
		BREAK
	PRINTFORM [{LCOUNT, 2, RIGHT}]
	FOR 各難易度, 1, 4
		SELECTCASE TOINT(楽曲情報:LCOUNT:各難易度)
			CASE 0
				PRINT ‐ 
			CASE IS < 10
				PRINTFORM %TOFULL(楽曲情報:LCOUNT:各難易度)% 
			CASEELSE
				PRINTFORM %楽曲情報:LCOUNT:各難易度% 
		ENDSELECT
	NEXT
	PRINTFORML  %楽曲情報:LCOUNT:0%
NEXT

DRAWLINE
PRINTPLAINFORM 　PAGE.{ページ数+1}　
SIF ページ数 > 0
	PRINTC [98]前のページへ
SIF LOCAL > (ページ数*10+10)
	PRINTC [99]次のページへ
PRINTL 
PRINTPLAIN 　MUSIC SELECT　
PRINT [100]戻る 
PRINT [101] Voでソート 
PRINT [102] Instでソート 
PRINTL [103] Daでソート
DO
	INPUT
	SELECTCASE RESULT
		CASE 0
			IDOL選曲 = 
			RETURN 0
		CASE 1 TO LOCAL
			REPEAT 4
				IDOL選曲:COUNT = %楽曲情報:RESULT:COUNT%
			REND
			RETURN 0
		CASE 98
			IF ページ数 > 0
				ページ数--
				GOTO LIST
			ENDIF
		CASE 99
			IF LOCAL > (ページ数*10+10)
				ページ数++
				GOTO LIST
			ENDIF
		CASE 101 TO 103
			LOCAL:5 = RESULT
			CALL バブルソート, LOCAL, LOCAL:5%100, LOCAL:(LOCAL:5%100)
			INVERTBIT LOCAL:(LOCAL:5%100), 0
			ページ数 = 0
			GOTO LIST
	ENDSELECT
LOOP 1


@REF_MUSIC
;この関数が呼ばれると、2次元配列変数「楽曲情報」に曲名と難易度が入る
;楽曲情報:A:Bだとすると、Aには曲番号、Bには曲名、Vo難易度、Inst難易度、Dance難易度の順で入る
;初期状態だと楽曲名順。2次元配列にまとめることで各難易度でのソートが可能
;難易度は数値だけど型は文字列なのでTOINTあたり通して使ってください
LOCAL = 0
LOCAL++
楽曲情報:LOCAL:0 '= "19,November", "3", "6", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "20,november", "1", "5", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "All My Love", "5", "5", "5"
LOCAL++
楽曲情報:LOCAL:0 '= "AWAKE", "6", "7", "9"
LOCAL++
楽曲情報:LOCAL:0 '= "Beautiful Dream", "5", "5", "7"
LOCAL++
楽曲情報:LOCAL:0 '= "BRE∀K DOWN", "3", "7", "6"
LOCAL++
楽曲情報:LOCAL:0 '= "Broadway Diva", "9", "6", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "CAN'T STOP FALLIN' IN LOVE", "5", "4", "5"
LOCAL++
楽曲情報:LOCAL:0 '= "Change the World", "6", "7", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "Chronos", "0", "8", "7"

LOCAL++
楽曲情報:LOCAL:0 '= "Daisuke", "7", "6", "8"
LOCAL++
楽曲情報:LOCAL:0 '= "Dynamite Rave", "6", "6", "5"
LOCAL++
楽曲情報:LOCAL:0 '= "Eternal Tears", "3", "3", "2"
LOCAL++
楽曲情報:LOCAL:0 '= "Follow Tomorrow", "6", "6", "7"
LOCAL++
楽曲情報:LOCAL:0 '= "Idola", "7", "10", "8"
LOCAL++
楽曲情報:LOCAL:0 '= "in love wit you", "6", "3", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "IX", "9", "9", "9"
LOCAL++
楽曲情報:LOCAL:0 '= "Love2シュガ→", "4", "4", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "LUV TO ME", "2", "5", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "LUV TO ME(english version)", "4", "5", "4"

LOCAL++
楽曲情報:LOCAL:0 '= "MAX LOVE", "5", "4", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "Medicine of Love", "5", "4", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "Melody Life", "5", "4", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "Mermaid Girl", "6", "5", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "One Phrase Blues", "0", "9", "6"
LOCAL++
楽曲情報:LOCAL:0 '= "PARANOIA survivor MAX", "0", "5", "10"
LOCAL++
楽曲情報:LOCAL:0 '= "Pink Rose", "5", "6", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "Pluto", "0", "9", "8"
LOCAL++
楽曲情報:LOCAL:0 '= "Really Love", "5", "6", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "RESISTANCE", "5", "6", "4"

LOCAL++
楽曲情報:LOCAL:0 '= "Roots of my way!", "5", "5", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "Somehow You Found Me", "7", "7", "9"
LOCAL++
楽曲情報:LOCAL:0 '= "Space Dog", "6", "4", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "Take A Step Forward", "5", "4", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "The Least 100sec", "0", "11", "5"
LOCAL++
楽曲情報:LOCAL:0 '= "THE REASON", "8", "8", "8"
LOCAL++
楽曲情報:LOCAL:0 '= "Top The Charts", "7", "6", "6"
LOCAL++
楽曲情報:LOCAL:0 '= "Watch Out Pt.2", "0", "9", "9"
LOCAL++
楽曲情報:LOCAL:0 '= "Wow Wow VENUS", "5", "6", "6"
LOCAL++
楽曲情報:LOCAL:0 '= "X-Plan", "7", "8", "6"

LOCAL++
楽曲情報:LOCAL:0 '= "一網打尽", "0", "12", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "朧", "7", "7", "7"
LOCAL++
楽曲情報:LOCAL:0 '= "からふるぱすてる", "5", "8", "5"
LOCAL++
楽曲情報:LOCAL:0 '= "キラキラ☆ステーション", "4", "4", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "黒髪乱れし修羅となりて", "6", "7", "5"
LOCAL++
楽曲情報:LOCAL:0 '= "恋する☆宇宙戦争っ！！", "4", "6", "6"
LOCAL++
楽曲情報:LOCAL:0 '= "ゴーイング マイ ウェイ!", "6", "12", "3"
LOCAL++
楽曲情報:LOCAL:0 '= @"混乱少女%UNICODE(0x2764)%そふらんちゃん!!", "4", "7", "7"
LOCAL++
楽曲情報:LOCAL:0 '= "隅田川夏恋歌", "4", "5", "3"
LOCAL++
楽曲情報:LOCAL:0 '= "大見解", "6", "5", "5"

LOCAL++
楽曲情報:LOCAL:0 '= "たからもの", "4", "6", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "打打打打打打打打打打", "6", "8", "5"
LOCAL++
楽曲情報:LOCAL:0 '= "ちくわパフェだよ☆CKP", "4", "8", "7"
LOCAL++
楽曲情報:LOCAL:0 '= "罪と罰", "7", "7", "9"
LOCAL++
楽曲情報:LOCAL:0 '= "天庭", "12", "11", "6"
LOCAL++
楽曲情報:LOCAL:0 '= "どきドキ バレンタイン", "4", "7", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "†渚の小悪魔ラヴリィ～レイディオ†", "4", "4", "8"
LOCAL++
楽曲情報:LOCAL:0 '= "花吹雪", "6", "6", "6"
LOCAL++
楽曲情報:LOCAL:0 '= "華爛漫 -Flowers-", "6", "7", "7"
LOCAL++
楽曲情報:LOCAL:0 '= "ピアノ協奏曲第1番”蠍火”", "0", "11", "2"

LOCAL++
楽曲情報:LOCAL:0 '= "ヒデオ体操第一", "2", "4", "12"
LOCAL++
楽曲情報:LOCAL:0 '= "ヒマワリ", "6", "5", "4"
LOCAL++
楽曲情報:LOCAL:0 '= "量子の海のリントヴルム", "0", "11", "6"
LOCAL++
楽曲情報:LOCAL:0 '= "凛として咲く花の如く", "5", "7", "3"

@バブルソート, 総曲数, ソート対象難易度, ARG
#DIM LCOUNT
#DIM LCOUNT2
#DIM 総曲数
#DIM ソート対象難易度
#DIMS ソート順
IF ARG == 0
	ソート順 = FORWARD
ELSEIF ARG == 1
	ソート順 = BACK
ENDIF
	
;マジックナンバー多し 後日分かりやすく書き換える予定

FOR LCOUNT, 1, 総曲数
	FOR LCOUNT2, 総曲数, LCOUNT-1, -1
		;関数の第三引数に応じてソート順を変える
		IF ソート順 == "FORWARD"
			IF TOINT(楽曲情報:LCOUNT2:ソート対象難易度) < TOINT(楽曲情報:(LCOUNT2-1):ソート対象難易度)
				REPEAT 4
					SWAP 楽曲情報:LCOUNT2:COUNT, 楽曲情報:(LCOUNT2-1):COUNT
				REND
			ENDIF
		ELSEIF ソート順 == "BACK"
			IF TOINT(楽曲情報:LCOUNT2:ソート対象難易度) > TOINT(楽曲情報:(LCOUNT2-1):ソート対象難易度)
				REPEAT 4
					SWAP 楽曲情報:LCOUNT2:COUNT, 楽曲情報:(LCOUNT2-1):COUNT
				REND
			ENDIF
		ENDIF
	NEXT
NEXT

