;ビデオの重複使用を処理するために、予め値段の加算を行っておく
@PRICE_VIDEO
LOCAL = 0
REPEAT TFLAG:ビデオ撮影回数
	SELECTCASE ビデオ撮影内容:COUNT
		CASE "愛撫"
			LOCAL += 30
		CASE "クンニ"
			LOCAL += 60
		CASE "フェラする"
			LOCAL += 90
		CASE "指挿入れ"
			LOCAL += 60
		CASE "アナル舐め"
			LOCAL += 60
		CASE "アナル愛撫"
			LOCAL += 30
		CASE "胸揉み"
			LOCAL += 60
		CASE "乳首責め"
			LOCAL += 60
		CASE "胸愛撫"
			LOCAL += 30
		CASE "秘貝開帳"
			LOCAL += 150
		CASE "胸自慰"
			LOCAL += 120
		CASE "自慰"
			LOCAL += 200
		CASE "足扱きする"
			LOCAL += 120
		CASE "下着扱きする"
			LOCAL += 120
		CASE "キスする"
			LOCAL += 100
		CASE "何もしない"
			LOCAL += 10
		CASE "会話"
			LOCAL += 50
		CASE "プレゼント"
			LOCAL += 10
		CASE "スキンシップ"
			LOCAL += 30
		CASE "まったりする"
			LOCAL += 10
		CASE "家事"
			LOCAL += 10
		CASE "歌の練習"
			LOCAL += 50
		CASE "罵倒"
			LOCAL += 20
		CASE "ビデオ鑑賞"
			LOCAL += 20
		CASE "吸血する"
			LOCAL += 100
		CASE "吸血させる"
			LOCAL += 100
		CASE "ローター"
			LOCAL += 90
		CASE "電気按摩"
			LOCAL += 120
		CASE "クリキャップ"
			LOCAL += 120
		CASE "オナホール"
			LOCAL += 150
		CASE "バイブ"
			LOCAL += 150
		CASE "アナルバイブ"
			LOCAL += 150
		CASE "アナルビーズ"
			LOCAL += 150
		CASE "ニプルキャップ"
			LOCAL += 120
		CASE "乳首ローター"
			LOCAL += 60
		CASE "搾乳機"
			LOCAL += 120
		CASE "搾精コンドーム"
			LOCAL += 30
		CASE "コンドーム"
			LOCAL += 30
		CASE "正常位"
			LOCAL += 200
		CASE "後背位"
			LOCAL += 250
		CASE "騎乗位"
			LOCAL += 300
		CASE "対面座位"
			LOCAL += 200
		CASE "背面座位"
			LOCAL += 200
		CASE "正常位アナル"
			LOCAL += 200
		CASE "後背位アナル"
			LOCAL += 250
		CASE "騎乗位アナル"
			LOCAL += 300
		CASE "対面座位アナル"
			LOCAL += 200
		CASE "背面座位アナル"
			LOCAL += 200
		CASE "正常位させる"
			LOCAL += 200
		CASE "後背位させる"
			LOCAL += 200
		CASE "正常位アナルさせる"
			LOCAL += 200
		CASE "後背位アナルさせる"
			LOCAL += 200
		CASE "下着ずらし挿入"
			LOCAL += 250
		CASE "下着ずらし挿入アナル"
			LOCAL += 250
		CASE "逆レイプ"
			LOCAL += 150
		CASE "手淫"
			LOCAL += 150
		CASE "フェラチオ"
			LOCAL += 180
		CASE "パイズリ"
			LOCAL += 200
		CASE "素股"
			LOCAL += 100
		CASE "泡踊り"
			LOCAL += 150
		CASE "足扱き"
			LOCAL += 150
		CASE "足舐め強制"
			LOCAL += 60
		CASE "縦パイズリ"
			LOCAL += 250
		CASE "パイズリフェラ"
			LOCAL += 250
		CASE "母乳飲み"
			LOCAL += 90
		CASE "兜合わせ"
			LOCAL += 150
		CASE "下着扱き"
			LOCAL += 150
		CASE "スパンキング"
			LOCAL += 100
		CASE "乳スパンキング"
			LOCAL += 100
		CASE "鞭"
			LOCAL += 150
		CASE "蝋燭"
			LOCAL += 150
		CASE "針"
			LOCAL += 200
		CASE "アイマスク"
			LOCAL += 100
		CASE "縄"
			LOCAL += 150
		CASE "ボールギャグ"
			LOCAL += 100
		CASE "腹パン"
			LOCAL += 150
		CASE "踏む"
			LOCAL += 150
		CASE "裸締め"
			LOCAL += 150
		CASE "首を絞める"
			LOCAL += 200
		CASE "ビンタ"
			LOCAL += 100
		CASE "異物挿入"
			LOCAL += 200
		CASE "異物挿入解除"
			LOCAL += 100
		CASE "クンニ強制"
			LOCAL += 100
		CASE "貝あわせ"
			LOCAL += 150
		CASE "助手を犯させる"
			LOCAL += 200
		CASE "顔面騎乗する"
			LOCAL += 120
		CASE "ダブルフェラ"
			LOCAL += 150
		CASE "ダブルパイズリ"
			LOCAL += 200
		CASE "乳の揉み合い"
			LOCAL += 90
		CASE "イラマチオ"
			LOCAL += 150
		CASE "フィストファック"
			LOCAL += 200
		CASE "アナルフィスト"
			LOCAL += 200
		CASE "両穴フィスト"
			LOCAL += 250
		CASE "放尿"
			LOCAL += 100
		CASE "アナル奉仕強制"
			LOCAL += 60
		CASE "浣腸器+プラグ"
			LOCAL += 150
		CASE "空気浣腸"
			LOCAL += 100
		CASE "拡張バルーン"
			LOCAL += 100
		CASE "アナル電極"
			LOCAL += 150
		CASE "乳房電極"
			LOCAL += 150
		CASE "乳ファック"
			LOCAL += 200
		CASE "触手召喚"
			LOCAL += 150
		CASE "触手挿入"
			LOCAL += 200
		CASE "アナル触手"
			LOCAL += 200
		CASE "触手クリ責め"
			LOCAL += 100
		CASE "触手乳首責め"
			LOCAL += 100
		CASE "触手搾乳"
			LOCAL += 150
		CASE "触手緊縛"
			LOCAL += 150
		CASE "触手浣腸"
			LOCAL += 150
		CASE "触手口辱"
			LOCAL += 100
		CASE "触手ペニス責め"
			LOCAL += 150
		CASE "触手搾精"
			LOCAL += 150
		CASE "ローション"
			LOCAL += 30
		CASE "媚薬"
			LOCAL += 60
		CASE "利尿剤"
			LOCAL += 60
		CASE "ビデオカメラ"
			LOCAL += 0
		CASE "野外プレイ"
			LOCAL += 100
		CASE "助手を犯す"
			LOCAL += 150
		CASE "羞恥プレイ"
			LOCAL += 100
		CASE "お風呂場プレイ"
			LOCAL += 100
		CASE "シャワー"
			LOCAL += 60
		CASE "新妻プレイ"
			LOCAL += 100
		CASE "写真撮影"
			LOCAL += 30
		CASE "強精神薬"
			LOCAL += 30
		CASE "コンドーム精飲（奴隷）"
			LOCAL += 100
		CASE "コンドーム精飲（助手）"
			LOCAL += 100
		;以下派生コマンド
		CASE "3P"
			LOCAL += 300
		CASE "シックスナイン"
			LOCAL += 150
		CASE "岩清水"
			LOCAL += 150
		CASE "Gスポット刺激"
			LOCAL += 200
		CASE "乱れ牡丹"
			LOCAL += 250
		CASE "騎乗乳房自慰"
			LOCAL += 350
		CASE "挿入Gスポ責め"
			LOCAL += 200
		CASE "挿入子宮口責め"
			LOCAL += 200
		CASE "69パイズリ"
			LOCAL += 250
		CASE "搾乳"
			LOCAL += 150
		CASE "ダブル素股"
			LOCAL += 250
		CASE "二本フェラ"
			LOCAL += 300
		CASE "正常位キス"
			LOCAL += 250
		CASE "騎乗位キス"
			LOCAL += 350
		CASE "対面座位キス"
			LOCAL += 250
		CASE "正常位アナルキス"
			LOCAL += 250
		CASE "騎乗位アナルキス"
			LOCAL += 350
		CASE "対面座位アナルキス"
			LOCAL += 250
		CASE "正常位首絞め"
			LOCAL += 250
		CASE "後背位首絞め"
			LOCAL += 250
		CASE "正常位アナル首絞め"
			LOCAL += 250
		CASE "後背位アナル首絞め"
			LOCAL += 250
		CASE "逆レイプ首絞め"
			LOCAL += 200
		CASE "バイブオナニー"
			LOCAL += 250
		CASE "アナルバイブオナニー"
			LOCAL += 250
		CASE "二穴バイブオナニー"
			LOCAL += 300
		CASE "シャワーオナニー"
			LOCAL += 250
	ENDSELECT
REND

LOCAL:1 = 100
SIF TALENT:無関心
	LOCAL:1 -= 30
SIF TALENT:感情乏しい
	LOCAL:1 -= 30
SIF TALENT:恥じらい
	LOCAL:1 += 10
SIF TALENT:小柄体型
	LOCAL:1 += 20
SELECTCASE TALENT:バストサイズ
	;素質:絶壁を見る
	CASE 1
		LOCAL:1 -= 10
	;素質:巨乳を見る
	CASE 4
		LOCAL:1 += 20
	;素質:爆乳を見る
	CASE 5
		LOCAL:1 += 10
ENDSELECT
SIF TALENT:動物耳
	LOCAL:1 += 5
SIF TALENT:尻尾
	LOCAL:1 += 5
SIF TALENT:ファーリー
	LOCAL:1 += 10
SIF TALENT:人気
	LOCAL:1 += 20
SIF TALENT:謎の魅力
	LOCAL:1 += 30
SIF TALENT:魅力
	LOCAL:1 += 20

SIF EXP:被写経験 >= EXPLV:3
	LOCAL:1 += 10

;撮影者を見る
;主人
SELECTCASE TFLAG:ビデオ撮影者
	CASE 1
		;撮影技能を見る
		SELECTCASE ABL:MASTER:撮影技能
			CASE 0
				LOCAL:1 -= 20
			CASE 1
				LOCAL:1 -= 20
			CASE 3
				LOCAL:1 += 10
			CASE 4
				LOCAL:1 += 20
			CASE IS >= 5
				LOCAL:1 += 50
		ENDSELECT
	;助手
	CASE 2
		;撮影技能を見る
		SELECTCASE ABL:ASSI:撮影技能
			CASE 0
				LOCAL:1 -= 20
			CASE 1
				LOCAL:1 -= 20
			CASE 3
				LOCAL:1 += 10
			CASE 4
				LOCAL:1 += 20
			CASE IS >= 5
				LOCAL:1 += 50
		ENDSELECT
ENDSELECT

;倍率処理
SIF LOCAL:1 < 1
	LOCAL:1 = 1

LOCAL *= LOCAL:1
LOCAL /= 100

;難易度処理
SELECTCASE FLAG:難易度
	;NORMAL
	CASE 1
		TIMES LOCAL , 1.00
	;HYPER
	CASE 2
		TIMES LOCAL , 0.80
	;ANOTHER
	CASE 3
		TIMES LOCAL , 0.60
ENDSELECT

;ゲイビデオならボーナスが付く
SIF SEX(MASTER) == SEX(TARGET)
	TIMES LOCAL , 1.10
SIF ASSI > 0 && SEX(ASSI) == SEX(TARGET)
	TIMES LOCAL , 1.10

TFLAG:ビデオ価格 += LOCAL
TFLAG:ビデオ撮影回数 = 0

@SELL_VIDEO
LOCAL = 0
;調教時に録画したビデオの売却

;撮影中のまま売却まで来た場合はテープの数を減らす
;テープの減数は撮影後処理のため、さらにビデオの値段および経験もここで処理をする
IF TEQUIP:ビデオカメラ
	ITEM:ビデオテープ--
	CALL PRICE_VIDEO
ENDIF

;録画してなければ終了
SIF TFLAG:ビデオ価格 == 0
	RETURN 0

DRAWLINE

;ビデオボーナス、もしくは処女喪失シーンがあれば内容を表示
IF VIDEOBONUS:0 || VIDEOBONUS:1 || VIDEOBONUS:2 || VIDEOBONUS:3 || VIDEOBONUS:4 || VIDEOBONUS:5 || VIDEOBONUS:6 || TFLAG:撮影破瓜
	PRINTL 【ビデオ内容】
	;処女喪失シーンがあれば加算
	IF TFLAG:撮影破瓜
		LOCAL += 5000
		EXP:異常経験++
		PRINTFORML 　このビデオには%CALLNAME:TARGET%の処女喪失シーンが記録されている
		PRINTFORML 　異常経験+1
	ENDIF

	;ビデオボーナスを見る
	;主人→奴隷 中出し&アナル中出し
	IF VIDEOBONUS:0 && VIDEOBONUS:1
		PRINTFORML 　%CALLNAME:TARGET%は%CALLNAME:MASTER%に{VIDEOBONUS:0}回膣内射精され、{VIDEOBONUS:1}回アナルにも射精されている
		LOCAL += VIDEOBONUS:0*300
		LOCAL += VIDEOBONUS:1*250
	;中出しのみ
	ELSEIF VIDEOBONUS:0
		PRINTFORML 　%CALLNAME:TARGET%は%CALLNAME:MASTER%に{VIDEOBONUS:0}回、膣内に射精されている
		LOCAL += VIDEOBONUS:0*300
	;アナル中出しのみ
	ELSEIF VIDEOBONUS:1
		PRINTFORML 　%CALLNAME:TARGET%は%CALLNAME:MASTER%に{VIDEOBONUS:1}回、アナルに射精されている
		LOCAL += VIDEOBONUS:1*250
	ENDIF

	;助手→奴隷 中出し&アナル中出し
	IF VIDEOBONUS:2 && VIDEOBONUS:3
		PRINTFORML 　%CALLNAME:TARGET%は%CALLNAME:ASSI%に{VIDEOBONUS:2}回膣内射精され、{VIDEOBONUS:3}回アナルにも射精されている
		LOCAL += VIDEOBONUS:2*300
		LOCAL += VIDEOBONUS:3*250
	;中出しのみ
	ELSEIF VIDEOBONUS:2
		PRINTFORML 　%CALLNAME:TARGET%は%CALLNAME:ASSI%に{VIDEOBONUS:2}回、膣内に射精されている
		LOCAL += VIDEOBONUS:2*300
	;アナル中出しのみ
	ELSEIF VIDEOBONUS:3
		PRINTFORML 　%CALLNAME:TARGET%は%CALLNAME:ASSI%に{VIDEOBONUS:3}回、アナルに射精されている
		LOCAL += VIDEOBONUS:3*250
	ENDIF

	;奴隷射精
	IF VIDEOBONUS:4
		PRINTFORML 　{VIDEOBONUS:4}回、%CALLNAME:TARGET%が射精している
		LOCAL += VIDEOBONUS:4*150
	ENDIF
	;奴隷放尿
	IF VIDEOBONUS:5
		PRINTFORML 　{VIDEOBONUS:5}回、%CALLNAME:TARGET%が放尿している
		LOCAL += VIDEOBONUS:5*100
	ENDIF
	;奴隷噴乳
	IF VIDEOBONUS:6
		PRINTFORML 　{VIDEOBONUS:6}回、%CALLNAME:TARGET%が噴乳している
		LOCAL += VIDEOBONUS:6*100
	ENDIF
ENDIF

DO
	PRINTFORML 録画したビデオは${TFLAG:ビデオ価格+LOCAL}程度の値が付きそうだ
	PRINTL 録画したビデオをどうするか選択してください
	PRINTL [0] - 売る
	PRINT [1] - 手元に残す
	SIF CFLAG:所持ビデオ数
		PRINTFORM （%CALLNAME:TARGET%のビデオは既に持っている）
	PRINTL 
	INPUT
LOOP LOOPRES(0, 1)

SELECTCASE RESULT
	CASE 0
		PRINTFORMW 調教時に録画したビデオを売って、${TFLAG:ビデオ価格+LOCAL}手に入れました
		MONEY += TFLAG:ビデオ価格+LOCAL
		TFLAG:ビデオ価格 = 0
		CALL KOJO_MESSAGE_EVENT, 19
	CASE 1
		PRINTFORMW %CALLNAME:TARGET%との思い出を保管した({CFLAG:所持ビデオ数+1}本目)
		CFLAG:所持ビデオ数++
		CALL KOJO_MESSAGE_EVENT, 23
ENDSELECT

@SELL_PICTURE
;売れる写真が無ければ関数終了
LOCAL = 0
SIF !写真価格:0
	RETURN 0
DRAWLINE
PRINTL 撮影した写真を売却します
REPEAT 10
	SIF !写真価格:COUNT
		BREAK
	PRINTFORML {COUNT+1, 2}枚目.%写真内容:COUNT%
	PRINTFORML        ${写真価格:COUNT}の買値が付きました
	LOCAL += 写真価格:COUNT
REND

PRINTFORML 計${LOCAL}で売れました
MONEY += LOCAL
WAIT
CALL KOJO_MESSAGE_EVENT, 20

@SELL_MILK
LOCAL = TFLAG:搾乳量*50
LOCAL:1 = TFLAG:搾乳量*10
IF LOCAL > 0
	SIF TALENT:淫乳
		LOCAL *= 2

	;難易度処理
	SELECTCASE FLAG:難易度
		;NORMAL
		CASE 1
			TIMES LOCAL , 1.00
		;HYPER
		CASE 2
			TIMES LOCAL , 0.80
		;ANOTHER
		CASE 3
			TIMES LOCAL , 0.60
	ENDSELECT

	DRAWLINE

	DO
		PRINTFORML 今回の調教で%CALLNAME:TARGET%から{LOCAL:1}mlの母乳を採取した
		PRINTFORML %CALLNAME:TARGET%の母乳は${LOCAL}で売れそうです。売却しますか？
		PRINTL [0] - 売却する
		PRINTL [1] - 保管する
		INPUT
	LOOP LOOPRES(0, 1)

	SELECTCASE RESULT
		CASE 0
			MONEY += LOCAL
			PRINTFORMW 所持金 ${LOCAL}増加
		CASE 1
			FLAG:保管済み母乳 += LOCAL:1
			PRINTFORMW 保管母乳量 {LOCAL:1}ml増加
	ENDSELECT
ENDIF

@SELL_SAMEN
LOCAL = TFLAG:搾精量*250
LOCAL:1 = TFLAG:搾精量 * 10
IF LOCAL > 0
	DRAWLINE
	DO
		PRINTFORML 今回の調教で%CALLNAME:TARGET%から{LOCAL:1}mlの精液を採取した
		PRINTFORML %CALLNAME:TARGET%の精液は${LOCAL}で売れそうです。売却しますか？
		PRINTL [0] - 売却する
		PRINTL [1] - 保管する
		INPUT
	LOOP LOOPRES(0, 1)

	SELECTCASE RESULT
		CASE 0
			MONEY += LOCAL
			PRINTFORMW 所持金 ${LOCAL}増加
		CASE 1
			FLAG:保管済み精液 += LOCAL:1
			PRINTFORMW 保管精液量 {LOCAL:1}ml増加
	ENDSELECT
ENDIF

